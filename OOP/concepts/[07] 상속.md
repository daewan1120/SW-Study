# Chapter 07 - 상속 (Inheritance)

## 상속이란?

- 기존 클래스의 **속성과 기능을 물려받아 새로운 클래스를 만드는 것**
    - 부모가 물려준 성격과 습관처럼, 자식 클래스는 부모 클래스의 기능을 물려받음
- 코드의 **재사용성**을 높이고, **유지보수**를 쉽게 만듦
- 자식 클래스가 부모 클래스의 필드와 메서드를 사용할 수 있음
- 다형성 구현의 기반

---

## 기본 문법

```java
class 부모클래스 {
    // 필드, 생성자, 메서드 등
}

class 자식클래스 extends 부모클래스 {
    // 추가 필드, 생성자, 메서드 등
}

class Animal {
    void eat() {
        System.out.println("먹는다");
    }
}

class Dog extends Animal {
    void bark() {
        System.out.println("멍멍");
    }
}

public class Main {
    public static void main(String[] args) {
        Dog d = new Dog();
        d.eat();  // 부모 메서드
        d.bark(); // 자식 메서드
    }
}
```

---

## 상속의 특징

- 자식 클래스는 부모 클래스의 모든 `public`, `protected` 멤버를 상속받음
- private 멤버는 직접 접근 불가 (필요 시 `getter`/`setter` 사용)
- 자바는 단일 상속만 지원 (`extends`는 한 클래스만 상속 가능)
    - 명확성과 충돌 방지 이슈
    - 대신 인터페이스를 활용해 유연성 확보 (추후 배움)
- **모든 클래스는 기본적으로 `Object` 클래스를 상속받음**

---

## 생성자와 상속

- 생성자는 상속되지 않음
- 자식 클래스 생성자에서 부모 생성자를 호출
- `super()`를 이용해서 호출 가능 ([`[08] 참조 키워드`]([08]%20참조%20키워드.md))

```java
class Animal {
    Animal() {
        System.out.println("Animal 생성자");
    }
}

class Dog extends Animal {
    Dog() {
        super(); // 부모 생성자 호출 (생략 가능)
        System.out.println("Dog 생성자");
    }
}
```

---

## 접근 제어자와 상속 관계

| 접근 제어자 | 같은 클래스 | 같은 패키지 | 자식 클래스 | 전체 |
| - | - | - | - | - |
| private | O | X | X | X |
| default | O | O | X | X |
| protected | O | O | O | X |
| public | O | O | O | O |

---

## 상속과 메서드 오버라이딩

- 오버라이딩이란?
    - 부모 클래스가 정의한 메소드를 자식 클래스에서 재정의하는 것 ([[10] 오버라이딩](./[10]%20오버라이딩.md))
- 자식 클래스는 부모 클래스의 메서드를 재정의(오버라이딩) 가능
- `@Override`를 통해 오버라이딩을 명시하면 컴파일 타임에 체크 가능

ex)
```java
class Animal {
    void sound() {
        System.out.println("동물이 소리를 냅니다.");
    }
}

class Cat extends Animal {
    @Override
    void sound() {
        System.out.println("야옹");
    }
}
```

## 상속 관계에서 다형성

- **다형성**: 하나의 참조 변수가 여러 타입의 객체를 참조할 수 있는 성질
- 부모 타입으로 자식 객체를 참조하면, 자식의 오버라이딩된 메서드가 실행
- 코드의 확장성과 유연성을 높이는 핵심 개념

ex)
```java
class Animal {
    void sound() {
        System.out.println("동물이 소리를 냅니다.");
    }
}

class Dog extends Animal {
    @Override
    void sound() {
        System.out.println("멍멍");
    }
}

class Cat extends Animal {
    @Override
    void sound() {
        System.out.println("야옹");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal a1 = new Dog(); // 부모 타입으로 자식 객체 참조
        Animal a2 = new Cat();

        a1.sound(); // 멍멍
        a2.sound(); // 야옹
    }
}
```

### instanceof 연산자

- 객체가 특정 클래스나 인터페이스의 인스턴스인지 여부를 검사하는 연산자
- 참조 변수가 실제로 어떤 타입의 객체를 참조하는지 확인할 때 사용
- 상속 관계에 따라 부모 타입 참조변수도 자식 타입 객체인지 확인 가능
- 타입 체크 후 형변환을 안전하게 할 때 주로 사용
- boolean으로 반환됨
- null에 대해서는 항상 false 반환 (즉, null instanceof 어떤 타입 → false)

```java
if (obj instanceof 클래스명) {
    // obj는 클래스명 타입의 객체이거나 그 자식 타입 객체
    // 안전하게 형변환 후 사용 가능
}
```

ex)

```java
class Animal {}
class Dog extends Animal {}
class Cat extends Animal {}

public class Main {
    public static void main(String[] args) {
        Animal a = new Dog();

        if (a instanceof Dog) {
            System.out.println("a는 Dog 타입입니다.");
        } else if (a instanceof Cat) {
            System.out.println("a는 Cat 타입입니다.");
        } else if (a instanceof Animal) {
            System.out.println("a는 Animal 타입입니다.");
        }
    }
}
```

출력:

    a는 Dog 타입입니다.

---

## 정리

| 구분 | 설명 |
| - | - |
| `extends` | 부모 클래스 상속 |
| `super()` | 부모 생성자 호출 |
| `super.변수` | 부모 클래스의 필드(변수)에 접근 |
| `super.메서드()` | 부모 클래스의 메소드를 호출 (오버라이드 된 경우에도 부모 메소드 호출) |
| `Object` | 자바 모든 클래스의 최상위 부모 |
| 단일 상속 | 자바는 클래스 간 다중 상속을 허용하지 않음 (인터페이스로 해결) |
| 생성자 상속 여부 | 생성자는 상속되지 않음, 반드시 `super()`로 호출 필요 |

---