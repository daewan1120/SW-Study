# Chapter 06 - 생성자 (Constructor)

## 생성자란?

- 객체가 생성될 때 호출되어 **객체 초기화**를 담당하는 특별한 메서드
- 클래스 이름과 **동일한 이름**을 가지며, 반환 타입이 없음 (`void`도 사용하지 않음)
- `new` 키워드로 객체를 만들 때 자동으로 실행됨

---

## 생성자의 특징

- 반환 타입이 없다 (`void`도 쓰지 않음)
- 클래스명과 동일한 이름을 가진다
- 여러 개 생성 가능 (오버로딩 지원)
- 객체 생성 시 반드시 하나의 생성자가 호출됨
- 생성자가 하나도 없으면 컴파일러가 **기본 생성자(매개변수 없는)**를 자동으로 만들어줌

---

## 생성자의 종류

| 종류 | 설명 | 예시 |
| - | - | - |
| 기본 생성자 | 매개변수가 없는 생성자. 직접 작성하지 않으면 컴파일러가 자동 생성 | `Person() { ... }` |
| 매개변수 생성자 | 객체 생성 시 필요한 데이터를 받아 초기화하는 생성자 | `Person(String name, int age) { ... }` |
| **복사 생성자** | 같은 클래스의 다른 객체를 받아 필드 값을 복사하는 생성자 (자바는 직접 구현해야 함) | `Person(Person other) { ... }` |

---

## 생성자 오버로딩 (Constructor Overloading)

- 오버로딩이란?
    - 같은 이름의 메서드 또는 생성자를 매개 변수에 따라 여러개 정의하는 것 ([[09] 오버로딩](./[09]%20오버로딩.md))
- **매개변수의 타입, 개수, 순서가 다르게 여러 생성자를 정의하는 것**
- 다양한 방법으로 객체를 생성할 수 있어 유연함을 줌

```java
class Product {
    String name;
    int price;

    // 인자가 없을 때 호출
    Product() {
        name = "이름 없음";
        price = 0;
    }

    // 인자가 문자열 하나일 때 호출
    Product(String n) {
        name = n;
        price = 1000;
    }

    // 인자가 문자열, 정수일 때 호출
    Product(String n, int p) {
        name = n;
        price = p;
    }
}
```

---

## 생성자 체이닝 (Constructor Chaining)

- 한 생성자에서 같은 클래스 내 다른 생성자를 호출하는 방법
- 코드 중복을 줄이고, 일관성 있는 초기화를 가능하게 함
- this() 키워드를 사용하며, 반드시 생성자 첫 줄에 위치해야 함 ([[08] 참조 키워드](./[08]%20참조%20키워드.md))

```java
class Car {
    String model;
    int year;

    Car() {
        this("모델 없음", 0); // Car(String model) 생성자 호출
    }

    Car(String model) {
        this(model, 2020);    // Car(String model, int year) 생성자 호출
    }

    Car(String model, int year) {
        this.model = model;
        this.year = year;
    }
}
```

---

## 복사 생성자 (Copy Constructor)

- 자바에는 기본으로 없으며, 직접 정의해야 함
- 같은 클래스의 다른 객체를 받아 필드를 복사하여 새로운 객체 생성

```java
class Person {
    String name;
    int age;

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // 복사 생성자
    Person(Person other) {
        this.name = other.name;
        this.age = other.age;
    }
}

public class Main {
    public static void main(String[] args) {
        Person p1 = new Person("철수", 25);
        Person p2 = new Person(p1);  // p1 객체를 복사

        System.out.println(p2.name); // 철수
        System.out.println(p2.age);  // 25
    }
}
```

---

## 기본 생성자 자동 생성 조건
- 클래스 내에 생성자가 하나도 없을 때만 컴파일러가 기본 생성자를 자동 생성
- 사용자가 생성자를 하나라도 작성하면, 기본 생성자는 자동 생성되지 않음
- 기본 생성자가 없으면 매개변수 없는 객체 생성 불가

---

## 생성자와 메서드 비교

| 구분 | 생성자 | 메서드 |
| - | - | - |
| 이름 | 클래스명과 동일 | 자유롭게 지정 가능 |
| 반환 타입 | 없음 (`void`도 사용 안함) | 명시해야 함 (v`oid` 제외) |
| 호출 시점 | 객체 생성 시 자동 호출 | 객체 생성 후 명시적 호출 |
| 목적 | 객체 초기화 | 특정 기능 수행 |

---

## 생성자 작성 시 주의사항
- 생성자 내에서 `return` 문을 사용할 수 없음
- `this()`를 사용해 생성자 체이닝 할 때는 첫 줄에 작성해야 함
- 복잡한 초기화 로직은 생성자보다는 별도의 메서드로 분리하는 게 가독성에 도움

```java
class Person {
    String name;
    int age;

    // 기본 생성자
    Person() {
        this("이름 없음", 0);  // 생성자 체이닝 사용
    }

    // 매개변수 생성자
    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // 복사 생성자
    Person(Person other) {
        this(other.name, other.age);
    }

    void printInfo() {
        System.out.println("이름: " + name + ", 나이: " + age);
    }
}

public class Main {
    public static void main(String[] args) {
        Person p1 = new Person();                // 기본 생성자
        Person p2 = new Person("철수", 20);      // 매개변수 생성자
        Person p3 = new Person(p2);              // 복사 생성자

        p1.printInfo(); // 이름: 이름 없음, 나이: 0
        p2.printInfo(); // 이름: 철수, 나이: 20
        p3.printInfo(); // 이름: 철수, 나이: 20
    }
}
```

---